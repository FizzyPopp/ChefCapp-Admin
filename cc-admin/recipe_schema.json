{
    "$schema" : "http://json-schema.org/draft-06/schema#",
    "$id" : "cc-admin/recipe.schema.json",
    "type" : "object",
    "title": "Recipe-root",
    "description" : "A collection of ingredients, steps, and attributes that comprise a guide to cooking a dish.",
    "default": {},

    "examples": [
        {
            "tags": [
                "main",
                "pork"
            ],
            "flavors": "",
            "ingredients": {
                "core": [
                    "iid1",
                    "iid2",
                    "iid3"
                ],
                "additional": [
                    "iid4",
                    "iid5"
                ]
            },
            "title": "Sweet Porky Delight",
            "id": "1234567890asdf",
            "steps-ref": "123456789abcde"
        }
    ],

    "required": [
        "id",
        "title",
        "tags",
        "flavors",
        "ingredients",
        "steps-ref"
    ],

    "additionalProperties": true,
    "properties": {
        "id": {
            "$id": "#/properties/id",
            "type": "string",
            "title": "ID schema",
            "description" : "Unique identifier of the recipe, 32bit hash result.",
            "default": "",
            "examples": [
                "1234567890asdf"
            ]
        },

        "title": {
            "$id": "#/properties/title",
            "type": "string",
            "title": "Recipe title schema",
            "description" : "Human readable name of the recipee.",
            "default": "",
            "examples": [
                "Sweet Porky Delight",
                "Caesar Salad"
            ]
        },

        "calories": {
            "$id": "#/properties/calories",
            "type": "number",
            "title": "Recipe calorie count schema",
            "description" : "Amount of kilocalories roughly contained in the recipe.",
            "default": "",
            "examples": [
                12,
                500,
                80
            ],
            "exclusiveMinimum": 0
        },

        "tags": {
            "$id": "#/properties/tags",
            "type": "array",
            "title": "Tag list schema",
            "description": "Set of tags applicable to the recipe.",
            "default": [],
            "examples": [
                [
                    "main",
                    "pork"
                ],

                [
                    "side",
                    "noodle"
                ]
            ],
            "items": {
                "type" : "string"
            }
        },

        "ingredients": {
            "$id": "#/properties/ingredients",
            "type": "object",
            "title": "The ingredients schema",
            "description": "Object containing the list of ingredients, with some ordering and organization applied",
            "default": {},
            "examples": [
                {
                    "core": [
                        "iid1",
                        "iid2",
                        "iid3"
                    ],
                    "auxiliary": [
                        "iid4",
                        "iid5"
                    ]
                }
            ],
            "required": [
                "core"
            ],

            "additionalItems": true,

            "properties": {
                "core": {
                    "$id": "#/properties/ingredients/properties/core",
                    "type": "object",
                    "title": "The core ingredients schema",
                    "description": "A collection of critical ingredients by ID mapped to the amount needed.",
                    "examples": [
                        {
                            "123456abcde" : 100,
                            "523456abea" : 2,
                            "523456abea" : 0.5
                        }
                    ],

                    "$comment" : "patternProperties match regex patterns and validate the properties of the matched entities",
                    "patternProperties" :{
                        "\b[A-Fa-f0-9]{64}\b" : {
                            "type" : "number",
                            "minimum" : 0
                        }
                    }
                },
                "auxiliary": {
                    "$id": "#/properties/ingredients/properties/core",
                    "type": "object",
                    "title": "The auxiliary ingredients schema",
                    "description": "A collection of critical ingredients by ID mapped to the amount needed.",
                    "examples": [
                        {
                            "123456abcde" : 100,
                            "523456abea" : 2,
                            "523456abea" : 0.5
                        }
                    ],

                    "$comment" : "patternProperties match regex patterns and validate the properties of the matched entities",
                    "patternProperties" :{
                        "\b[A-Fa-f0-9]{64}\b" : {
                            "type" : "number",
                            "minimum" : 0
                        }
                    }
                }
            }
        },
        "steps-ref": {
            "$id": "#/properties/steps-ref",
            "type": "string",
            "title": "The steps-ref schema",
            "description": "An explanation about the purpose of this instance.",
            "default": "",
            "examples": [
                "123456789abcde"
            ]
        }
    }
}
